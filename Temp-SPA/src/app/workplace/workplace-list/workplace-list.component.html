<div class="workplace-list-header">
  <div class="workplace-list-title-section">
    <h1 class="workplace-list-title">Workplaces</h1>
    <p class="workplace-list-subtitle">Manage and view all workplace locations</p>
  </div>
</div>

<div class="workplace-list-container">
  <tmp-card variant="subtle" class="workplace-list-filters-card">
    <div class="workplace-list-filters-header">
      <h3 class="workplace-list-filters-title">Filters</h3>
      <tmp-button variant="success" size="small" (clicked)="openCreateModal()" ariaLabel="Create workplace">
        <fa-icon [icon]="plusIcon" [size]="'xl'"></fa-icon>
        <span style="margin-left: var(--spacing-xs);">Create</span>
      </tmp-button>
    </div>
    <form class="workplace-list-filters-form" [formGroup]="filtersForm">
      <tmp-input placeholder="Name" label="Name" formControlName="name" [isFilter]="true"></tmp-input>
    </form>
  </tmp-card>

  <tmp-card variant="filled" class="workplace-list-table-card">
    <tmp-table
      [columns]="columns"
      [data]="workplaces"
      [striped]="true"
      [hoverable]="true"
      emptyMessage="No workplaces found">

      <ng-template #rowTemplate let-workplace>
        <tr>
          <td>{{ workplace.name }}</td>
          <td class="text-center">
            <div class="tmp-button-group">
              <tmp-button variant="primary" size="small" (clicked)="openEditModal(workplace.id)" ariaLabel="Edit workplace {{workplace.name}}">
                <fa-icon [icon]="editIcon" [size]="'lg'"></fa-icon>
              </tmp-button>
              <tmp-button variant="danger" size="small" (clicked)="changeStatus(workplace.id)" ariaLabel="Archive workplace {{workplace.name}}">
                <fa-icon [icon]="archiveIcon" [size]="'lg'"></fa-icon>
              </tmp-button>
            </div>
          </td>
        </tr>
      </ng-template>
    </tmp-table>
  </tmp-card>

  <div class="workplace-list-pagination">
    <tmp-pagination
      [totalCount]="pagination.totalItems"
      [pageSize]="pagination.itemsPerPage"
      [pageNumber]="pagination.currentPage"
      (pageChanged)="pageChanged($event)">
    </tmp-pagination>
  </div>
</div>
