<div class="modal-header-obsidian">
    <h4 class="modal-title-obsidian">{{title}}</h4>
    <button type="button" class="modal-close-obsidian" aria-label="Close" (click)="bsModalRef.hide()">
        <span class="modal-close-icon" aria-hidden="true">Ã—</span>
    </button>
</div>
<div class="modal-body-obsidian">
    <form [formGroup]="editWorkplaceForm" (ngSubmit)="update()">
        <div class="modal-form-section">
            <tmp-input [formControl]="name" [label]="'Name'" [placeholder]="'Enter Workplace Name'"></tmp-input>
        </div>

        <hr class="modal-section-divider">

        <div class="modal-form-grid">
            <div class="modal-upload-section">
                @if (profilePictureUrl) {
                    <div class="modal-upload-preview">
                        <tmp-avatar
                            [profilePictureUrl]="profilePictureUrl"
                            [displayName]="name.value ?? undefined"
                            [size]="'large'"
                            [shape]="'circle'">
                        </tmp-avatar>
                        <p class="modal-upload-label">Current Profile Picture</p>
                    </div>
                }
                <tmp-file-upload
                    [label]="'Upload Photo'"
                    [fileType]="'Image'"
                    [maxSizeMB]="5"
                    [uploadedFiles]="workplaceFiles"
                    (fileUploaded)="onFileUploaded($event)"
                    (fileDeleted)="onFileDeleted($event)">
                </tmp-file-upload>
            </div>
            <div class="modal-upload-section">
                <tmp-file-upload
                    [label]="'Upload Documents'"
                    [fileType]="'Document'"
                    [maxSizeMB]="10"
                    [uploadedFiles]="workplaceFiles"
                    (fileUploaded)="onFileUploaded($event)"
                    (fileDeleted)="onFileDeleted($event)">
                </tmp-file-upload>
            </div>
        </div>

        <div class="modal-actions">
            <tmp-button type="submit" variant="success" [disabled]="!editWorkplaceForm.valid">Save Workplace</tmp-button>
        </div>
    </form>
</div>
