<h1 class="text-center">Assign Role</h1>       
<div class="row justify-content-center">
  <div class="col-lg-6 alert alert-info text-center" role="alert">
    <h5>First name: {{employee.firstName}}  Last name: {{employee.lastName}}</h5>
  </div>
</div>

<div class="row justify-content-center">
  <div class="col-lg-6">
    <form [formGroup]="createAssignRoleForm" (ngSubmit)="register()">
        <input type="hidden" asp-for="@employee.Id" />
        <div class="form-group">
          <h4>Username</h4>
          <input [ngClass]="{'is-invalid': createAssignRoleForm.get('username').errors
          && createAssignRoleForm.get('username').touched}"
          type="text"
          class="form-control"
          formControlName="username">
          <div class="invalid-feedback">Please choose a username</div>
        </div>

        <div class="form-group">
          <h4>Password</h4>

          <input [ngClass]="{'is-invalid' : createAssignRoleForm.get('password').errors
          && createAssignRoleForm.get('password').touched}"
          type="password"
          class="form-control" 
          formControlName="password">

          <div class="invalid-feedback"
            *ngIf="createAssignRoleForm.get('password').hasError('required')  
            && createAssignRoleForm.get('password').touched">Password is required
          </div> 
          <div class="invalid-feedback"
          *ngIf="createAssignRoleForm.get('password').hasError('minlength')  
            && createAssignRoleForm.get('password').touched">Password must be at least 5 characters
          </div>      
          <div class="invalid-feedback"
          *ngIf="createAssignRoleForm.get('password').hasError('maxlength')  
          && createAssignRoleForm.get('password').touched">Password cannot exceed 30 characters
          </div>
        </div>


        <div class="form-group">
          <h4>Confirm password</h4>
          <input [ngClass]="{'is-invalid' : createAssignRoleForm.get('confirmPassword').errors 
          && createAssignRoleForm.get('confirmPassword').touched 
          || createAssignRoleForm.get('confirmPassword').touched
          && createAssignRoleForm.hasError('mismatch')}"
          type="password" 
          class="form-control" 
          formControlName="confirmPassword">
    
          <div class="invalid-feedback"
          *ngIf="createAssignRoleForm.get('password').hasError('required')  
          && createAssignRoleForm.get('password').touched">Password is required
          </div>               
          <div class="invalid-feedback"
          *ngIf="createAssignRoleForm.hasError('mismatch')  
            && createAssignRoleForm.get('password').touched">Password must match
          </div>
        </div>

        <fieldset class="form-group">
            <legend>Role</legend>
            <div class="form-check">
                <label class="form-check-label">
                    <input type="radio" formControlName="role" value="User" class="form-check-input" />
                    User
                </label>
            </div>
            <div class="form-check">
              <label class="form-check-label">
                  <input type="radio" formControlName="role" value="Moderator" class="form-check-input" />  
                  Moderator
              </label>
          </div>
            <div class="form-check">
                <label class="form-check-label">
                    <input type="radio" formControlName="role" value="Admin" class="form-check-input" />  
                    Admin
                </label>
            </div>
        </fieldset> 

        <button class="btn btn-success float-right" [disabled]="!createAssignRoleForm.valid" type="submit">Save</button>
    </form>
  </div>
</div>
              
