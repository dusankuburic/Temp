@model IEnumerable<Temp.Application.Employees.GetEmployees.EmployeeViewModel>

@{
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<div class="col-lg-8">
    <h1 class="text-center">Employee search</h1>
    <table class="table table-striped text-center">
        <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Role</th>
            <th colspan="2" class="text-center">Options</th>
        </tr>
        @{

            if(Model != null)
            {
                foreach (var employee in Model)
                {
                    <tr>
                        <td>@employee.FirstName</td>
                        <td>@employee.LastName</td>

                        @if (employee.Role == "Admin")
                        {
                            <td>
                                <span class="badge badge-pill badge-warning">@employee.Role</span>
                            </td>
                        }
                        else if (employee.Role == "User")
                        {
                            <td>
                                <span class="badge badge-pill badge-info">@employee.Role</span>
                            </td>
                        }
                        else
                        {
                            <td>
                                <span class="badge badge-pill badge-secondary">@employee.Role</span>
                            </td>
                        }
                        <td><a class="btn btn-primary" asp-controller="Employee" asp-action="Edit" asp-route-id="@employee.Id"><i class="far fa-edit"></i></a></td>
                        @if (employee.Role != "Admin" && employee.Role != "User")
                        {
                            <td><a class="btn btn-info" asp-controller="Employee" asp-action="AssignRole" asp-route-id="@employee.Id"><i class="fas fa-sitemap"></i></a></td>
                        }
                        else
                        {
                            <td>
                               <form asp-controller="Employee" asp-action="RemoveRole" method="post" asp-antiforgery="true">
                                   <input type="hidden" name="Id" value="@employee.Id" />
                                   <button type="submit" class="btn btn-dark"><i class="fas fa-user-times"></i></button>
                               </form>
                            </td>
                        }
                    </tr>
                        }
                }
            }
    </table>
</div>

